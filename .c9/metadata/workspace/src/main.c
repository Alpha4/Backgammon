{"changed":true,"filter":false,"title":"main.c","tooltip":"/src/main.c","value":"/*\nProgramme principal gérant l'interface, l'arbitre et les interface\n*/\n#include <stdio.h>\n#include <string.h>\n#include <stdlib.h>\n#include <dlfcn.h>\n\n#include \"backgammon.h\"\n#include \"libs.h\"\n#include \"arbitre.h\" // Fonction de l'arbitre\n\n//PIPI\n\nint main (int arc, char *argv[])\n{\n\t/*\n\t*\targv[1] Nombres de Game pour le match\n\t*\targv[2] Chemin vers la lib de l'IA 1 si nécessaire\n\t*\targv[3] Chemin vers la lib de l'IA 2 si nécessaire\n\t*/\n\n\n\t/*Librairies des IA*/\n\tAI ai1,ai2;\n\n\n\t/* Variables pour le jeu*/\n\tSGameState gameState;\n\tSGameState gameStateCopy;\n\n\tint nbHumanPlayers;\n\n\tchar p1Name[50], p2Name[50];\n\n\tunsigned int nbMoves;\n\tunsigned char dices[2];\n\n\tSMove moves[4];\n\n\n\t/*Chargement des librairies*/\n\tswitch (argc)\n\t{\n\t\tcase 2 : //2 joueurs humains\n\t\t\tnbHumanPlayers=2;\n\t\tbreak;\n \n\t\tcase 3 : //1 IA 1 humain\n\t\t\tnbHumanPlayers=1;\n\t\t\tif (LoadLib(&ai1, argv[2]) == -1)\n            \treturn EXIT_FAILURE;\n\t\tbreak;\n\n\t\tcase 4 : //2 IA\n\t\t\tnbHumanPlayers=0;\n\t\t\tif (LoadLib(&ai1, argv[2]) == -1)\n            \treturn EXIT_FAILURE;\n\t\t\tif (LoadLib(&ai2, argv[3]) == -1)\n\t\t\t\treturn EXIT_FAILURE;\n\t\tbreak;\n\n\t\tdefault : // Pas assez d'argument\n\t\t\tfprintf(stderr, \"Erreur : pas assez de paramètres\\n\");  // Écriture de l'erreur\n        \treturn EXIT_FAILURE;\n\t\tbreak;\n\n\t}\n\n\n\n\n\treturn 0;\n}\n","undoManager":{"mark":-1,"position":9,"stack":[[{"group":"doc","deltas":[{"start":{"row":12,"column":1},"end":{"row":12,"column":6},"action":"remove","lines":["/CACA"]}]}],[{"group":"doc","deltas":[{"start":{"row":12,"column":0},"end":{"row":12,"column":1},"action":"remove","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":11,"column":0},"end":{"row":12,"column":0},"action":"remove","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":11,"column":0},"end":{"row":12,"column":0},"action":"insert","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":12,"column":0},"end":{"row":12,"column":1},"action":"insert","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":12,"column":1},"end":{"row":12,"column":2},"action":"insert","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":12,"column":2},"end":{"row":12,"column":3},"action":"insert","lines":["P"]}]}],[{"group":"doc","deltas":[{"start":{"row":12,"column":3},"end":{"row":12,"column":4},"action":"insert","lines":["I"]}]}],[{"group":"doc","deltas":[{"start":{"row":12,"column":4},"end":{"row":12,"column":5},"action":"insert","lines":["P"]}]}],[{"group":"doc","deltas":[{"start":{"row":12,"column":5},"end":{"row":12,"column":6},"action":"insert","lines":["I"]}]}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":12,"column":6},"end":{"row":12,"column":6},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1427911412675}